{
  "name": "TelegramGPT",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "*"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.2,
      "position": [
        0,
        0
      ],
      "id": "f1317fef-8ad8-443a-ba9c-2caab1e45ca1",
      "name": "Telegram Trigger",
      "webhookId": "aaa80d9c-31bd-4d5f-8350-560869a96aa2",
      "credentials": {
        "telegramApi": {
          "id": "nYel0Y4XtzzgbhET",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "f7ebdf4c-fd08-486a-b535-4c023cd1123a",
              "leftValue": "={{ $json.business_message }}",
              "rightValue": "",
              "operator": {
                "type": "object",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        192,
        0
      ],
      "id": "a35d6a4f-c985-4a82-b74d-c3b51c893611",
      "name": "If"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.business_message.text }}",
        "options": {
          "systemMessage": "=–¢—ã ‚Äî AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ù–∏–∫–æ–ª–∞—è. –û—Ç–≤–µ—á–∞–µ—à—å –≤ Telegram –≤—Å–µ–º –æ—Ç –µ–≥–æ –ª–∏—Ü–∞.\n\nüó£ –°—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è:\n‚Äì –¢–æ–ª—å–∫–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ\n‚Äì –ù–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π, —É–≤–µ—Ä–µ–Ω–Ω—ã–π, –≥—Ä–∞–º–æ—Ç–Ω—ã–π\n‚Äì –ü—Ä–æ—Å—Ç—ã–µ, –∫–æ—Ä–æ—Ç–∫–∏–µ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã\n‚Äì –ú–æ–∂–Ω–æ —Å –ª—ë–≥–∫–∏–º —é–º–æ—Ä–æ–º –∏ —ç–º–æ–¥–∑–∏ ‚Äî –ø–æ —Å–∏—Ç—É–∞—Ü–∏–∏\n‚Äì –ë–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ (ChatGPT, API –∏ –ø—Ä–æ—á–µ–µ –Ω–µ —É–ø–æ–º–∏–Ω–∞—Ç—å)\n\nüî• –ê–ª–≥–æ—Ä–∏—Ç–º –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:\n–ï—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –≤–ø–µ—Ä–≤—ã–µ –Ω–∞–ø–∏—Å–∞–ª, –Ω–∞—á–∏–Ω–∞–π —Ç–∞–∫:\n\n–ü—Ä–∏–≤–µ—Ç! –Ø –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ù–∏–∫–æ–ª–∞—è. –û–Ω —Å–∫–æ—Ä–æ –ø–æ–¥–æ–π–¥—ë—Ç, –∞ –ø–æ–∫–∞ –º–æ–≥—É –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å ü§ñ\n–†–∞—Å—Å–∫–∞–∂–∏, —á–µ–≥–æ —Ö–æ—á–µ—à—å –æ—Ç –ò–ò ‚Äî –ø–æ–∫–∞–∂—É, –∫–∞–∫ —ç—Ç–æ —Ä–µ—à–∏—Ç—å üöÄ\n\n\nüéØ –ó–∞–¥–∞—á–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞:\n‚Äì –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n\nüíº –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:\n–ò–ò-–∞–≥–µ–Ω—Ç—ã –ù–∏–∫–æ–ª–∞—è ‚Äî —ç—Ç–æ —É–º–Ω—ã–µ –ø–æ–º–æ—â–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ:\n‚Äì –û—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã\n\nüìé –ò—Å–ø–æ–ª—å–∑—É–π –±–∞–∑—É:\n‚Äì think ‚Äî –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ \"–∑–∞–¥—É–º–∞—Ç—å—Å—è\"\n\nüîí –ó–∞–ø—Ä–µ—â–µ–Ω–æ:\n‚Äì –ü–∏—Å–∞—Ç—å —Å–ø–∏—Å–∫–∞–º–∏, —Å–∏–º–≤–æ–ª–∞–º–∏ (* _ -)\n\nüß† –ü–æ–≤–µ–¥–µ–Ω–∏–µ:\n‚Äì –û—Ç–≤–µ—á–∞–π –±—ã—Å—Ç—Ä–æ, –ø—Ä–æ—Å—Ç–æ, –ø–æ –¥–µ–ª—É\n‚Äì –ù–µ –ª–µ–π –≤–æ–¥—É\n‚Äì –ü–æ–º–æ–≥–∞–π –≤—ã–±—Ä–∞—Ç—å –∑–∞–¥–∞—á—É –¥–ª—è –ò–ò\n‚Äì –ü–æ–¥–∫–ª—é—á–∞–π –ù–∏–∫–æ–ª–∞—è –ø—Ä–∏ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –∏–ª–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞—Ç—å"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        464,
        0
      ],
      "id": "ef099cff-99a1-4170-9fd2-8518cf2ebcf6",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "amount": 3
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        800,
        0
      ],
      "id": "bc8c71bb-a875-470a-8915-2f656d14a150",
      "name": "Wait",
      "webhookId": "46c24dcf-6353-4b03-99cc-5424fc10cace"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Telegram Trigger').item.json.business_message.from.id }}",
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        352,
        528
      ],
      "id": "fc492c33-a0fd-4d32-8799-22626e943fcc",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "content": "##        –ú–æ–∑–≥",
        "height": 200,
        "width": 280
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        192,
        464
      ],
      "id": "ccf115b3-566d-4329-8b3a-64f56a40b446",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã",
        "height": 200,
        "width": 600
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        560,
        464
      ],
      "id": "af3cd385-0cf3-425c-a711-aabbb483f16a",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "description": "–ò—Å–ø–æ–ª—å–∑—É–π, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ:\n–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—É\n–ü—Ä–æ–¥—É–º–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞\n–û—Ü–µ–Ω–∏—Ç—å –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–π –∑–∞–ø—Ä–æ—Å\n"
      },
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1,
      "position": [
        1072,
        528
      ],
      "id": "6b9c2ff2-cbcc-4d67-ab72-6a3935274452",
      "name": "think"
    },
    {
      "parameters": {
        "url": "https://api.telegram.org/bot8473026466:AAEkhxF6h-EZNAgfKr-kSphDq_RcKH_CnJ4/sendMessage",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "business_connection_id",
              "value": "={{ $('Telegram Trigger').item.json.business_message.business_connection_id }}"
            },
            {
              "name": "chat_id",
              "value": "={{ $('Telegram Trigger').item.json.business_message.from.id }}"
            },
            {
              "name": "text",
              "value": "={{ $json.output }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1008,
        0
      ],
      "id": "74c60cca-b84d-4f2e-845d-010fde05d56d",
      "name": "Telegram Response"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        224,
        528
      ],
      "id": "cd2554d0-ceef-4df4-96e4-f42ccbe58f25",
      "name": "OpenRouter Chat Model",
      "credentials": {
        "openRouterApi": {
          "id": "hAZf5Hme2l3aT22T",
          "name": "OpenRouter account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Telegram Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "think": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "a095fba6-7785-49ae-8cf7-14087f791d40",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "91f720a7f57af2997d9dedb355c981c52b9ed41b22420f4939871c3089760996"
  },
  "id": "Vw7S6JJKhAerSplg",
  "tags": []
}